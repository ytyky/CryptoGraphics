<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | Crypto Graphics</title>
  <meta name="description" content="Chapter 3 Data transformation | Crypto Graphics" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | Crypto Graphics" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | Crypto Graphics" />
  
  
  

<meta name="author" content="Tianyu Yao, Juntian Zhang" />


<meta name="date" content="2022-05-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">SHORT TITLE HERE</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#contribution"><i class="fa fa-check"></i><b>2.1</b> Contribution</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#data-collection"><i class="fa fa-check"></i><b>2.2</b> Data Collection</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#dataset-information"><i class="fa fa-check"></i><b>2.3</b> Dataset Information</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="data-sources.html"><a href="data-sources.html#format"><i class="fa fa-check"></i><b>2.3.1</b> Format</a></li>
<li class="chapter" data-level="2.3.2" data-path="data-sources.html"><a href="data-sources.html#column-details"><i class="fa fa-check"></i><b>2.3.2</b> Column Details</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="data-sources.html"><a href="data-sources.html#issue"><i class="fa fa-check"></i><b>2.4</b> Issue</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#select-data"><i class="fa fa-check"></i><b>3.1</b> Select Data</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#combine-the-data"><i class="fa fa-check"></i><b>3.2</b> Combine the Data</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#calculate-the-return-and-volatility"><i class="fa fa-check"></i><b>3.3</b> Calculate the Return and Volatility</a></li>
<li class="chapter" data-level="3.4" data-path="data-transformation.html"><a href="data-transformation.html#combine-all-the-value-into-one-table"><i class="fa fa-check"></i><b>3.4</b> Combine All the Value into One table</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#overview"><i class="fa fa-check"></i><b>5.1</b> Overview</a></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#correlation"><i class="fa fa-check"></i><b>5.2</b> Correlation</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#how-hot-is-the-market"><i class="fa fa-check"></i><b>5.3</b> How hot is the market?</a></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#dive-into-stable-coin"><i class="fa fa-check"></i><b>5.4</b> Dive into Stable Coin</a></li>
<li class="chapter" data-level="5.5" data-path="results.html"><a href="results.html#crypto-as-an-investment"><i class="fa fa-check"></i><b>5.5</b> Crypto as an Investment</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Crypto Graphics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data transformation<a href="data-transformation.html#data-transformation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="select-data" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Select Data<a href="data-transformation.html#select-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The original data includes the records which is more than one year, so we firstly choose the data between end of April last year to the beginning of May 2022.</p>
</div>
<div id="combine-the-data" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Combine the Data<a href="data-transformation.html#combine-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>we will combine the price of each cryptocurrency into one table df.close</p>
<pre><code>##                      Date              BTC              BNB              ETH
## 1 2021-04-29 00:00:00 UTC 54810.6138506792 562.577779751027 2748.78458512186
## 2 2021-04-30 00:00:00 UTC 53596.7040226668 599.878911764389 2757.49755230498
## 3 2021-05-01 00:00:00 UTC 57828.5118144259 624.576535214212 2776.70371169874
## 4 2021-05-02 00:00:00 UTC 57812.9691596789 619.030889354574 2944.91694731851
## 5 2021-05-03 00:00:00 UTC 56600.7452873843 622.587766598266 2953.29734808047
## 6 2021-05-04 00:00:00 UTC 57200.3002987116 675.098973804614 3439.85506951926
##                USDC             USDT
## 1  1.00060165227303 1.00160044588886
## 2  1.00147087514554 1.00069787505114
## 3  1.00062655148548 1.00137302187793
## 4 0.999839429081519 1.00054724638899
## 5 0.999572872686357 1.00059291416998
## 6 0.999972697791073 1.00131983872563</code></pre>
<p>Here, we transform the table df.close into the new table df.close1 which will be helpful for plotting.</p>
<pre><code>##   cryptocurrency    price
## 1            BTC 54810.61
## 2            BTC 53596.70
## 3            BTC 57828.51
## 4            BTC 57812.97
## 5            BTC 56600.75
## 6            BTC 57200.30</code></pre>
</div>
<div id="calculate-the-return-and-volatility" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Calculate the Return and Volatility<a href="data-transformation.html#calculate-the-return-and-volatility" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Firstly, we calculate the return of each date by the formula: (final price/ initial price)-1.<br />
Then we calculate the 15 days volatility of each crypto by calculating the stand deviation of 15 days return, and multiply square root of 365. (For stocks, the volatility is stand deviation multiply square root of 250, but the cryptocurrency can be traded every day, so we choose square root of 365 )</p>
</div>
<div id="combine-all-the-value-into-one-table" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Combine All the Value into One table<a href="data-transformation.html#combine-all-the-value-into-one-table" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Finally, we combine the volatility, return, and market capitalization and volume with the df.close1, creating the final table df.crpyto</p>
<pre><code>##   cryptocurrency    price       Date   market_cap        return volatility
## 1            BTC 54810.61 2021-04-29 1.024626e+12            NA         NA
## 2            BTC 53596.70 2021-04-30 1.001974e+12 -0.0221473496         NA
## 3            BTC 57828.51 2021-05-01 1.082722e+12  0.0789564931         NA
## 4            BTC 57812.97 2021-05-02 1.080898e+12 -0.0002687715         NA
## 5            BTC 56600.75 2021-05-03 1.057850e+12 -0.0209680266         NA
## 6            BTC 57200.30 2021-05-04 1.069571e+12  0.0105927052         NA
##        volume year month
## 1 48072930663 2021    04
## 2 46958036373 2021    04
## 3 53879045974 2021    05
## 4 43967070046 2021    05
## 5 39072664394 2021    05
## 6 54132470274 2021    05</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ytyky/CryptoGraphics/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ytyky/CryptoGraphics/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
